<!DOCTYPE html>
<html lang="en">
    <head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link rel="stylesheet" href="../../main.css">
		<link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/Pamishly/PamishlysPlayPlace/refs/heads/main/logo.ico">
		<title>Pamishly SS1</title>
	  </head>
  <body>
    <div class="container">
        <nav class="menu">
            <iframe src="../../navbar.html" seamless="seamless"></iframe>
        </nav>
        <main class="main">
          <div class="information">
            <h1>USB Webcam Tutorial</h1>
            <br>
            <p>Requirements:</p>
            <p>Raspberry Pi Zero 2W</p>
            <p>Camera Module of your choice</p>
            <p>Computer with SSH and <a href="https://www.raspberrypi.com/software/" style="display:inline">Raspberry Pi Imager</a></p>
            <p>This tutorial assumes you know how to SSH into the pi</p>
            <br>
            <p>First, you have to install Raspberry Pi OS Lite 64-bit on an sd card for the pi</p>
            <p>Then, plug your camera module in to the ribbin cable port and the SD card into the pi</p>
            <p>Let it boot for a minute, it will take a little longer for the first boot</p>
            <p>Then, SSH into the Pi</p>
            <br>
            <p>Once in, run these 2 commands</p>
            <div class="codeblock">
                <p><span class = purp>$</span><span class = orange> sudo apt </span><span class = white>update</span></p>
                <p><span class = purp>$</span><span class = orange> sudo apt </span><span class = white>full-upgrade</span></p>
            </div>
            <p>After that runs, reboot the Pi</p>
            <div class="codeblock">
                <p><span class = purp>$</span><span class = orange> sudo </span><span class = white>reboot</span></p>
            </div>
            <p>Once restarted run the following commands and let them install</p>
            <div class = codeblock>
              <p><span class = purp>$ echo</span><span class = green> "dtoverlay=dwc2,dr_mode=otg" </span><span class = blue>|</span><span class = orange> sudo tee </span><span class = white>-a /boot/firmware/config.txt</span></p>
              <p><span class = purp>$</span><span class = orange> sudo apt install git </span><span class = white>meson libcamera-dev libjpeg-dev</span></p>
            </div>
            <p>You may have to press <span class = white>y</span> to continue</p>
            <div class = codeblock>
              <p><span class = purp>$</span><span class = orange> git</span><span class = white> clone https://gitlab.freedesktop.org/camera/uvc-gadget.git</span></p>
              <p><span class = purp>$ cd </span><span class - white>uvc-gadget</span></p>
              <p><span class = purp>$</span><span class = orange> make </span><span class = white>uvc-gadget</span></p>
              <p><span class = purp>$ cd </span><span class = white>build</span></p>
              <p><span class = purp>$</span><span class = orange> sudo </span><span class = white>meson </span><span class = orange>install</span></p>
              <p><span class = purp>$</span><span class = orange> sudo </span><span class = white>ldconfig</span></p>
              <p><span class = purp>$</span><span class = orange> sudo nano</span><span class = white> ~/.rpi-uvc-gadget.sh</span></p>
            </div>
            <p>Then copy and paste the following into the text editor</p>
            <div class = codeblock class = white>
                  <pre tabindex="0" style='text-align: left;color: #fff;font-size: medium;font-family: Consolas, Monaco, "border: 0px solid rgb(229, 231, 235);'><code style='text-align: left;color: #fff;font-size: 1em;font-family: Consolas, Monaco, "border: 0px solid rgb(229, 231, 235);'><strong><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">#!/bin/bash</span></strong>

                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># Variables we need to make things easier later on.</span>
                        
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">CONFIGFS</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;/sys/kernel/config&quot;</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">GADGET</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$CONFIGFS</span>/usb_gadget&quot;</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">VID</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;0x0525&quot;</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">PID</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;0xa4a2&quot;</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">SERIAL</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;0123456789&quot;</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">MANUF</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);"><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$(</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">hostname</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">)</span></span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">PRODUCT</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;UVC Gadget&quot;</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">BOARD</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);"><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$(</span>strings /proc/device-tree/model<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">)</span></span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">UDC</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);"><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">`</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ls</span> /sys/class/udc<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">`</span></span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># will identify the &apos;first&apos; UDC</span>
                        
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># Later on, this function is used to tell the usb subsystem that we want</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># to support a particular format, framesize and frameintervals</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">create_frame</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">(</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">)</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">{</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># Example usage:</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># create_frame &lt;function name&gt; &lt;width&gt; &lt;height&gt; &lt;format&gt; &lt;name&gt; &lt;intervals&gt;</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">FUNCTION</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$1</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">WIDTH</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$2</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">HEIGHT</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$3</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">FORMAT</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$4</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">NAME</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$5</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">wdir</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span>functions/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span>/streaming/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FORMAT</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$NAME</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">${HEIGHT}</span>p
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> -p <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$wdir</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$WIDTH</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$wdir</span>/wWidth
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$HEIGHT</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$wdir</span>/wHeight
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$((</span> $WIDTH <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">*</span> $HEIGHT <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">*</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">2</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">))</span></span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$wdir</span>/dwMaxVideoFrameBufferSize
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cat</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&lt;&lt;</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">EOF<span style="color: #fff;border: 0px solid rgb(229, 231, 235);"> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$wdir</span>/dwFrameInterval</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$6</span>
                        EOF</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">}</span>
                        
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># This function sets up the UVC gadget function in configfs and binds us</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># to the UVC gadget driver.</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">create_uvc</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">(</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">)</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">{</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">CONFIG</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$1</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">FUNCTION</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">=</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$2</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;    Creating UVC gadget functionality : <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span>&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> functions/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span>
                        
                            create_frame <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">640</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">480</span> uncompressed u <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;333333
                        416667
                        500000
                        666666
                        1000000
                        1333333
                        2000000
                        &quot;</span>
                            create_frame <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">1280</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">720</span> uncompressed u <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;1000000
                        1333333
                        2000000
                        &quot;</span>
                            create_frame <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">1920</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">1080</span> uncompressed u <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;2000000&quot;</span>
                            create_frame <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">640</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">480</span> mjpeg m <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;333333
                        416667
                        500000
                        666666
                        1000000
                        1333333
                        2000000
                        &quot;</span>
                            create_frame <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">1280</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">720</span> mjpeg m <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;333333
                        416667
                        500000
                        666666
                        1000000
                        1333333
                        2000000
                        &quot;</span>
                            create_frame <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">1920</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">1080</span> mjpeg m <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;333333
                        416667
                        500000
                        666666
                        1000000
                        1333333
                        2000000
                        &quot;</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> functions/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span>/streaming/header/h
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cd</span> functions/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span>/streaming/header/h
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/uncompressed/u
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/mjpeg/m
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cd</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/class/fs
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/header/h
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cd</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/class/hs
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/header/h
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cd</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/class/ss
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/header/h
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cd</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/control
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> header/h
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s header/h class/fs
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s header/h class/ss
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cd</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">..</span>/
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># This configures the USB endpoint to allow 3x 1024 byte packets per</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># microframe, which gives us the maximum speed for USB 2.0. Other</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># valid values are 1024 and 2048, but these will result in a lower</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># supportable framerate.</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">2048</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> functions/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span>/streaming_maxpacket
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">ln</span> -s functions/<span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$FUNCTION</span> configs/c.1
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">}</span>
                        
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># This loads the module responsible for allowing USB Gadgets to be</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># configured through configfs, without which we can&apos;t connect to the</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># UVC gadget kernel driver</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Loading composite module&quot;</span>
                        modprobe libcomposite
                        
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># This section configures the gadget through configfs. We need to</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># create a bunch of files and directories that describe the USB</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># device we want to pretend to be.</span>
                        
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">if</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">[</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">!</span> -d <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$GADGET</span>/g1 <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">]</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">;</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">then</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Detecting platform:&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;  board : <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$BOARD</span>&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;  udc   : <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$UDC</span>&quot;</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Creating the USB gadget&quot;</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Creating gadget directory g1&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> -p <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$GADGET</span>/g1
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">cd</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$GADGET</span>/g1
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">if</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">[</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$?</span> -ne <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">0</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">]</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">;</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">then</span>
                                <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Error creating usb gadget in configfs&quot;</span>
                                <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">exit</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">1</span><span style="color: #fff;border: 0px solid rgb(229, 231, 235);">;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">else</span>
                                <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;OK&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">fi</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Setting Vendor and Product ID&apos;s&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$VID</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> idVendor
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$PID</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> idProduct
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;OK&quot;</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Setting English strings&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> -p strings/0x409
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$SERIAL</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> strings/0x409/serialnumber
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$MANUF</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> strings/0x409/manufacturer
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$PRODUCT</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> strings/0x409/product
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;OK&quot;</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Creating Config&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> configs/c.1
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">mkdir</span> configs/c.1/strings/0x409
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Creating functions...&quot;</span>
                        
                            create_uvc configs/c.1 uvc.0
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;OK&quot;</span>
                        
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;Binding USB Device Controller&quot;</span>
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">$UDC</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&gt;</span> UDC
                            <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">echo</span> <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">&quot;OK&quot;</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">fi</span>
                        
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># Run uvc-gadget. The -c flag sets libcamera as a source, arg 0 selects</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># the first available camera on the system. All cameras will be listed,</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># you can re-run with -c n to select camera n or -c ID to select via</span>
                        <span style="color: #fff;border: 0px solid rgb(229, 231, 235);"># the camera ID.</span>
                        uvc-gadget -c <span style="color: #fff;border: 0px solid rgb(229, 231, 235);">0</span> uvc.0</code></pre>
            </div>
          </div>
        </main>
    </div>
  </body>
</html>